<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
    <title>LexGUI AssetView Demo</title>
    <link rel="stylesheet" href="../build/lexgui.css">   
    <style>

        @import url('https://fonts.googleapis.com/css2?family=Inconsolata:wght@400&display=swap');

        ::-webkit-scrollbar {
            height: 6px;
        }

        ::-webkit-scrollbar-thumb {
            background: #aaa;
            border-radius: 0px;
        }

        .lexcodeeditor {
            padding: 30px;
            outline: none;
            font-size: 18px;
            overflow: auto;
        }

        .codechar {
            font-size: 18px;
            font-family: 'Inconsolata', monospace;
            position: absolute;
            top: 0;
            left: 0;
            padding: 0;
            margin: 0;
        }

        .lexcodeeditor pre {
            -webkit-text-size-adjust: 100%;
            cursor: text;
            box-sizing: border-box;
            padding: 0 4px;
            border-radius: 0;
            border-width: 0;
            background: transparent;
            font-family: 'Inconsolata', monospace;
            font-size: inherit;
            font-weight: bold;
            margin: 4px 0px;
            white-space: pre;
            word-wrap: normal;
            line-height: inherit;
            color: #ddd;
            position: relative;
            overflow: visible;
            -webkit-tap-highlight-color: transparent;
            z-index: 0 !important;
        }

        .lexcodeeditor span {
            -webkit-text-size-adjust: 100%;
            cursor: text;
            font-family: inherit;
            font-size: inherit;
            white-space: pre;
            word-wrap: normal;
            line-height: inherit;
            -webkit-tap-highlight-color: transparent;
            box-sizing: border-box;
            /* letter-spacing: 0.05em; */
        }

        .lexcodeeditor .cursors {
            -webkit-text-size-adjust: 100%;
            font-family: monospace;
            color: #AAA !important;
            font-size: 15px;
            cursor: text;
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            visibility: hidden;
            position: relative;
            z-index: 3;
        }

        .lexcodeeditor .cursors.show {
            visibility: visible;
        }

        .lexcodeeditor .cursors .cursor {
            -webkit-text-size-adjust: 100%;
            font-family: monospace;
            color: #AAA !important;
            font-size: 15px;
            cursor: text;
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            border-right: none;
            width: 0;
            position: absolute;
            border-left: 1px solid #A7A7A7 !important;
            z-index: 0 !important;
            left: 0px;
            top: 0px;
            height: 18px;
            transition: left linear 0.1s;
        }
        
        .cm-str { color: #9737f6; } /* string */
        .cm-kwd { color: #2194ce; } /* keyword */
        .cm-com { color: #498748; } /* comment */
        .cm-typ { color: #36c0b0; } /* type */
        .cm-lit { color: #ff0080; } /* literal */
        .cm-bln { color: #e9d11e; } /* builtin */
        .cm-dec { color: #22c44a; } /* decimal */

        .cm-tag { color: #2194ce; } /* HTML tag */
        .cm-atn { color: #BB55FF; } /* HTML attribute name */
        .cm-atv { color: #dea576; } /* HTML attribute value */
        .cm-str { color: #BB55FF; } /* string */
        .cm-lit { color: #ff3399; } /* literal */
        .cm-pln { color: #aaaaaa; } /* plaintext */

    </style> 
</head>
    <body></body>
    <script src="../build/lexgui.js"></script>
    <script src="../build/components/codeeditor.js"></script>
    <script>

        // init library and get main area
        let area = LX.init();

        // split main area
        var [left, right] = area.split({sizes:["50%","50%"]});

        // add canvas to left
        var canvas = document.createElement('canvas');
        canvas.id = "mycanvas";
        canvas.width = left.root.clientWidth;
        canvas.height = left.root.clientHeight;
        canvas.style.width = "100%";
        canvas.style.height = "100%";
        left.attach( canvas );

        // add on resize event to control canvas size
        left.onresize = function( bounding ) {
            canvas.width = bounding.width;
            canvas.height = bounding.height;
        };

        let editor = new LX.CodeEditor(right);
        
        function loop(dt) {
            
            var ctx = canvas.getContext("2d");

            // Get values from panel widgets (e.g. color value)
            ctx.fillStyle = "#b7a9b1";

            ctx.fillRect(0, 0, canvas.width, canvas.height);
            ctx.font = "48px Monospace";

            ctx.fillStyle = "#ff1999";

            const text = "Lexgui.js @jxarco";
            const pos_2d = [400, 300];
            ctx.fillText(text, pos_2d[0], pos_2d[1]);

            requestAnimationFrame(loop);
        }

        requestAnimationFrame(loop);

    </script>
</html>